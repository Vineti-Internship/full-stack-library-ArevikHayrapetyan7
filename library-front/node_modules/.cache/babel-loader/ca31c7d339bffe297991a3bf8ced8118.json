{"ast":null,"code":"import _regeneratorRuntime from \"/home/intern/Desktop/full-stack-library-ArpiAustamyan/library-front/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/intern/Desktop/full-stack-library-ArpiAustamyan/library-front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/intern/Desktop/full-stack-library-ArpiAustamyan/library-front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/intern/Desktop/full-stack-library-ArpiAustamyan/library-front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/intern/Desktop/full-stack-library-ArpiAustamyan/library-front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/intern/Desktop/full-stack-library-ArpiAustamyan/library-front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/intern/Desktop/full-stack-library-ArpiAustamyan/library-front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/intern/Desktop/full-stack-library-ArpiAustamyan/library-front/src/components/addauthor.js\";\n\n/*import React, { Component } from 'react';\nimport Book from './book/book';\nexport default class AddAuthor extends React.Component{\n  constructor() {\n    super();\n\n    this.state = {\n      name: '',\n      surname: '',\n    };\n    this.addEditBook = this.AddAuthor.bind(this);\n  }\n\nasync Adduthor() {\n  const response = await fetch('https://localhost:3000/autors', {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      name:this.state.name,\n      surname:this.state.surname\n\n    })\n  })\n}\n\n\n  render(){\n   \n\n    return(\n      <form>\n      <div >\n        <div className=\"sing-in-label\">\n          <div>\n            <label>Name</label><br/>\n            <input type=\"text\" name=\"name\" value={this.state.name} onChange={(event) => {this.setState({name: event.target.value})}}/>\n          </div>\n        <div>\n          <label>Surname</label><br/>\n          <input type =\"text\" name=\"surname\" value={this.state.surname} onChange={(event) => {this.setState({surname: event.target.value})}}/>\n        </div>\n        </div>\n       \n       <input type=\"submit\" value=\"Create\" onClick= {\n                        this.state.addEditBook}\n                        // console.log(this.state)\n/>\n       \n       \n       \n       \n      </div>\n    </form>\n    );\n}\n}\n\n*/\nimport React from 'react';\n\nvar AddAuthor =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AddAuthor, _React$Component);\n\n  function AddAuthor() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, AddAuthor);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(AddAuthor)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      autors: [],\n      name: '',\n      surname: ''\n    };\n\n    _this.postUser =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(name, surname) {\n        var headers, options, request, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                headers = new Headers();\n                headers.append('Content-Type', 'application/json');\n                options = {\n                  method: \"POST\",\n                  headers: headers,\n                  body: JSON.stringify({\n                    name: name,\n                    surname: surname\n                  })\n                };\n                request = new Request('http://localhost:3000/autors', options);\n                console.log(\"trying to post\");\n                _context.next = 7;\n                return fetch(request);\n\n              case 7:\n                response = _context.sent;\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.handleChange = function (e, param) {\n      var newState = {};\n      newState[param] = e.target.value;\n\n      _this.setState(newState);\n\n      console.log(_this.state.name);\n      console.log(\"inside input handler\");\n    };\n\n    return _this;\n  }\n\n  _createClass(AddAuthor, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        className: \"App-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"Author\"), React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"name\",\n        required: true,\n        onChange: function onChange(e) {\n          _this2.handleChange(e, 'name');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"surname\",\n        required: true,\n        onChange: function onChange(e) {\n          _this2.handleChange(e, 'surname');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this2.postUser(_this2.state.name, _this2.state.surname);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"Add  Author\")));\n    }\n  }]);\n\n  return AddAuthor;\n}(React.Component);\n\nexport default AddAuthor;","map":{"version":3,"sources":["/home/intern/Desktop/full-stack-library-ArpiAustamyan/library-front/src/components/addauthor.js"],"names":["React","AddAuthor","state","autors","name","surname","postUser","headers","Headers","append","options","method","body","JSON","stringify","request","Request","console","log","fetch","response","handleChange","e","param","newState","target","value","setState","Component"],"mappings":";;;;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA,OAAOA,KAAP,MAAkB,OAAlB;;IAEMC,S;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,MAAM,EAAE,EADF;AAENC,MAAAA,IAAI,EAAE,EAFA;AAGNC,MAAAA,OAAO,EAAC;AAHF,K;;UASRC,Q;;;;;+BAAW,iBAAOF,IAAP,EAAaC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AACHE,gBAAAA,OADG,GACO,IAAIC,OAAJ,EADP;AAETD,gBAAAA,OAAO,CAACE,MAAR,CAAe,cAAf,EAA8B,kBAA9B;AACMC,gBAAAA,OAHG,GAGO;AACZC,kBAAAA,MAAM,EAAE,MADI;AAEZJ,kBAAAA,OAAO,EAAPA,OAFY;AAGZK,kBAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;AAClBV,oBAAAA,IAAI,EAAJA,IADkB;AAEnBC,oBAAAA,OAAO,EAAPA;AAFmB,mBAAf;AAHO,iBAHP;AAYHU,gBAAAA,OAZG,GAYO,IAAIC,OAAJ,CAAY,8BAAZ,EAA2CN,OAA3C,CAZP;AAaTO,gBAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AAbS;AAAA,uBAccC,KAAK,CAACJ,OAAD,CAdnB;;AAAA;AAcHK,gBAAAA,QAdG;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;UAmBXC,Y,GAAe,UAACC,CAAD,EAAGC,KAAH,EAAY;AACzB,UAAMC,QAAQ,GAAG,EAAjB;AACAA,MAAAA,QAAQ,CAACD,KAAD,CAAR,GAAkBD,CAAC,CAACG,MAAF,CAASC,KAA3B;;AACA,YAAKC,QAAL,CAAcH,QAAd;;AACAP,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAKhB,KAAL,CAAWE,IAAvB;AACAa,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACD,K;;;;;;;6BAGQ;AAAA;;AAEP,aACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,SAAS,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,WAAW,EAAC,MAA/B;AAAsC,QAAA,QAAQ,EAAE,IAAhD;AAAsD,QAAA,QAAQ,EAAE,kBAACI,CAAD,EAAK;AAAC,UAAA,MAAI,CAACD,YAAL,CAAkBC,CAAlB,EAAoB,MAApB;AAA4B,SAAlG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAIE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,WAAW,EAAC,SAA/B;AAAyC,QAAA,QAAQ,EAAE,IAAnD;AAAyD,QAAA,QAAQ,EAAE,kBAACA,CAAD,EAAK;AAAC,UAAA,MAAI,CAACD,YAAL,CAAkBC,CAAlB,EAAoB,SAApB;AAA+B,SAAxG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,EAKE;AAAQ,QAAA,OAAO,EAAE;AAAA,iBAAK,MAAI,CAAChB,QAAL,CAAc,MAAI,CAACJ,KAAL,CAAWE,IAAzB,EAA+B,MAAI,CAACF,KAAL,CAAWG,OAA1C,CAAL;AAAA,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBALF,CADF,CADF;AAYD;;;;EApDqBL,KAAK,CAAC4B,S;;AAwD9B,eAAe3B,SAAf","sourcesContent":["/*import React, { Component } from 'react';\nimport Book from './book/book';\nexport default class AddAuthor extends React.Component{\n  constructor() {\n    super();\n\n    this.state = {\n      name: '',\n      surname: '',\n    };\n    this.addEditBook = this.AddAuthor.bind(this);\n  }\n\nasync Adduthor() {\n  const response = await fetch('https://localhost:3000/autors', {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      name:this.state.name,\n      surname:this.state.surname\n\n    })\n  })\n}\n\n\n  render(){\n   \n\n    return(\n      <form>\n      <div >\n        <div className=\"sing-in-label\">\n          <div>\n            <label>Name</label><br/>\n            <input type=\"text\" name=\"name\" value={this.state.name} onChange={(event) => {this.setState({name: event.target.value})}}/>\n          </div>\n        <div>\n          <label>Surname</label><br/>\n          <input type =\"text\" name=\"surname\" value={this.state.surname} onChange={(event) => {this.setState({surname: event.target.value})}}/>\n        </div>\n        </div>\n       \n       <input type=\"submit\" value=\"Create\" onClick= {\n                        this.state.addEditBook}\n                        // console.log(this.state)\n/>\n       \n       \n       \n       \n      </div>\n    </form>\n    );\n}\n}\n\n*/\n\nimport React from 'react';\n\nclass AddAuthor extends React.Component {\n  state = {\n    autors: [],\n    name: '',\n    surname:'',\n  \n    \n  }\n  \n  \n  postUser = async (name, surname) => {\n    const headers = new Headers();\n    headers.append('Content-Type','application/json');\n    const options = {\n        method: \"POST\",\n        headers,\n        body:JSON.stringify({\n          name,     \n         surname\n        })\n    };\n    \n    const request = new Request('http://localhost:3000/autors',options);\n    console.log(\"trying to post\");\n    const response = await fetch(request);\n    \n  }\n \n\n  handleChange = (e,param) =>{\n    const newState = {};\n    newState[param] = e.target.value;\n    this.setState(newState);\n    console.log(this.state.name);\n    console.log(\"inside input handler\"); \n  };\n\n  \n  render() {\n    \n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <h3>Author</h3>\n          <input type='text' placeholder='name' required={true} onChange={(e)=>{this.handleChange(e,'name')}} ></input>\n          \n          <input type='text' placeholder='surname' required={true} onChange={(e)=>{this.handleChange(e,'surname')}}></input>\n          <button onClick={()=>(this.postUser(this.state.name, this.state.surname))}>Add  Author</button>\n\n        </header>\n      </div>\n    );\n  }\n\n}\n\nexport default AddAuthor"]},"metadata":{},"sourceType":"module"}