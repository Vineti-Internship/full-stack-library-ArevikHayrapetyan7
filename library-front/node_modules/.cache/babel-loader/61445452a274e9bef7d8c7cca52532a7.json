{"ast":null,"code":"import _defineProperty from \"/home/intern/Desktop/workspace/library-front/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport Authen from './authen_helper';\n\nvar request = function request(method, path, body, objective) {\n  var options = {\n    method: method,\n    headers: headers()\n  };\n  if (body) options.body = JSON.stringify(_defineProperty({}, objective, body));\n  if (!objective) options.body = JSON.stringify(body);\n  return fetch(new Request(path, options));\n};\n\nvar headers = function headers() {\n  var token = Authen.getToken();\n  var header = new Headers();\n  header.append('Content-Type', 'application/json');\n\n  if (token) {\n    header.append('token', token);\n    header.append('Authorization', \"Token \".concat(token));\n  }\n\n  return header;\n};\n\nvar Req = {\n  post: function post(path, data, objective) {\n    return request('POST', path, data, objective);\n  },\n  get: function get(path) {\n    return request('GET', path);\n  },\n  delete: function _delete(path) {\n    return request('DELETE', path);\n  },\n  update: function update(path, data, objective) {\n    return request('PUT', path, data, objective);\n  }\n};\nexport default Req;","map":{"version":3,"sources":["/home/intern/Desktop/workspace/library-front/src/helper_request.js"],"names":["Authen","request","method","path","body","objective","options","headers","JSON","stringify","fetch","Request","token","getToken","header","Headers","append","Req","post","data","get","delete","update"],"mappings":";AAAA,OAAOA,MAAP,MAAmB,iBAAnB;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,MAAD,EAASC,IAAT,EAAeC,IAAf,EAAqBC,SAArB,EAAmC;AACjD,MAAMC,OAAO,GAAG;AAAEJ,IAAAA,MAAM,EAANA,MAAF;AAAUK,IAAAA,OAAO,EAAEA,OAAO;AAA1B,GAAhB;AACA,MAAIH,IAAJ,EACEE,OAAO,CAACF,IAAR,GAAeI,IAAI,CAACC,SAAL,qBACZJ,SADY,EACAD,IADA,EAAf;AAGF,MAAI,CAACC,SAAL,EACEC,OAAO,CAACF,IAAR,GAAeI,IAAI,CAACC,SAAL,CAAeL,IAAf,CAAf;AAEF,SAAOM,KAAK,CAAC,IAAIC,OAAJ,CAAYR,IAAZ,EAAkBG,OAAlB,CAAD,CAAZ;AACD,CAVD;;AAaA,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;AACpB,MAAMK,KAAK,GAAGZ,MAAM,CAACa,QAAP,EAAd;AACA,MAAMC,MAAM,GAAG,IAAIC,OAAJ,EAAf;AAEAD,EAAAA,MAAM,CAACE,MAAP,CAAc,cAAd,EAA8B,kBAA9B;;AAEA,MAAIJ,KAAJ,EAAW;AACTE,IAAAA,MAAM,CAACE,MAAP,CAAc,OAAd,EAAuBJ,KAAvB;AACAE,IAAAA,MAAM,CAACE,MAAP,CAAc,eAAd,kBAAwCJ,KAAxC;AACD;;AAED,SAAOE,MAAP;AACD,CAZD;;AAeA,IAAMG,GAAG,GAAG;AACVC,EAAAA,IADU,gBACLf,IADK,EACCgB,IADD,EACOd,SADP,EACkB;AAC1B,WAAOJ,OAAO,CAAC,MAAD,EAASE,IAAT,EAAegB,IAAf,EAAqBd,SAArB,CAAd;AACD,GAHS;AAIVe,EAAAA,GAJU,eAINjB,IAJM,EAIA;AACR,WAAOF,OAAO,CAAC,KAAD,EAAQE,IAAR,CAAd;AACD,GANS;AAOVkB,EAAAA,MAPU,mBAOHlB,IAPG,EAOG;AACX,WAAOF,OAAO,CAAC,QAAD,EAAWE,IAAX,CAAd;AACD,GATS;AAUVmB,EAAAA,MAVU,kBAUHnB,IAVG,EAUGgB,IAVH,EAUSd,SAVT,EAUoB;AAC5B,WAAOJ,OAAO,CAAC,KAAD,EAAQE,IAAR,EAAcgB,IAAd,EAAoBd,SAApB,CAAd;AACD;AAZS,CAAZ;AAeA,eAAeY,GAAf","sourcesContent":["import Authen from './authen_helper'\n\nconst request = (method, path, body, objective) => {\n  const options = { method, headers: headers() };\n  if (body)\n    options.body = JSON.stringify({\n      [objective]: body\n    })\n  if (!objective)\n    options.body = JSON.stringify(body);\n\n  return fetch(new Request(path, options));\n}\n\n\nconst headers = () => {\n  const token = Authen.getToken();\n  const header = new Headers();\n\n  header.append('Content-Type', 'application/json');\n\n  if (token) {\n    header.append('token', token);\n    header.append('Authorization', `Token ${token}`);\n  }\n\n  return header;\n}\n\n\nconst Req = {\n  post(path, data, objective) {\n    return request('POST', path, data, objective);\n  },\n  get(path) {\n    return request('GET', path);\n  },\n  delete(path) {\n    return request('DELETE', path);\n  },\n  update(path, data, objective) {\n    return request('PUT', path, data, objective);\n  }\n}\n\nexport default Req"]},"metadata":{},"sourceType":"module"}