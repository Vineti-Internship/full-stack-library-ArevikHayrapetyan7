{"ast":null,"code":"import _regeneratorRuntime from \"/home/intern/Desktop/workspace/library-front/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/intern/Desktop/workspace/library-front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/home/intern/Desktop/workspace/library-front/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _assertThisInitialized from \"/home/intern/Desktop/workspace/library-front/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _classCallCheck from \"/home/intern/Desktop/workspace/library-front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/intern/Desktop/workspace/library-front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/intern/Desktop/workspace/library-front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/intern/Desktop/workspace/library-front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/intern/Desktop/workspace/library-front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/intern/Desktop/workspace/library-front/src/components/bookActions/book_store.js\";\nimport React from 'react';\nimport { BContext } from '../../contexts/context_book';\n\nvar BookStorage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(BookStorage, _React$Component);\n\n  function BookStorage(props) {\n    _classCallCheck(this, BookStorage);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(BookStorage).call(this));\n  }\n\n  _createClass(BookStorage, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      return React.createElement(BContext.Consumer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 12\n        },\n        __self: this\n      }, function (_ref) {\n        var getBooks = _ref.getBooks,\n            Books = _ref.Books;\n        return React.createElement(BContext.Consumer, Object.assign({}, _this.props, {\n          getBooks: getBooks,\n          Books: Books,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 15\n          },\n          __self: this\n        }));\n      });\n    }\n  }]);\n\n  return BookStorage;\n}(React.Component);\n\nexport { BookStorage as default };\n;\n\nvar SingleBook =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(SingleBook, _React$Component2);\n\n  function SingleBook() {\n    _classCallCheck(this, SingleBook);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SingleBook).apply(this, arguments));\n  }\n\n  _createClass(SingleBook, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props$book = this.props.book,\n          id = _this$props$book.id,\n          title = _this$props$book.title,\n          body = _this$props$book.body,\n          author = _this$props$book.author;\n      var name = author.name,\n          surname = author.surname;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, id && React.createElement(\"div\", {\n        className: \"book-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, \"Book: \", title, \" \"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, \"Author: \", name, \" \", surname), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, \"Description: \", body))));\n    }\n  }]);\n\n  return SingleBook;\n}(React.Component);\n\nvar BookStorePage =\n/*#__PURE__*/\nfunction (_React$Component3) {\n  _inherits(BookStorePage, _React$Component3);\n\n  function BookStorePage() {\n    var _this2;\n\n    _classCallCheck(this, BookStorePage);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(BookStorePage).call(this));\n\n    _this2.changeState = function (e) {\n      var _e$target = e.target,\n          value = _e$target.value,\n          name = _e$target.name;\n\n      _this2.setState(_defineProperty({}, name, value));\n    };\n\n    _this2.state = {\n      search: '',\n      books: null\n    };\n    _this2.getStorage = _this2.getStorage.bind(_assertThisInitialized(_assertThisInitialized(_this2)));\n    _this2.changeState = _this2.changeState.bind(_assertThisInitialized(_assertThisInitialized(_this2)));\n    return _this2;\n  }\n\n  _createClass(BookStorePage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getStorage();\n    }\n  }, {\n    key: \"getStorage\",\n    value: function () {\n      var _getStorage = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _this$props, getBooks, Books;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this$props = this.props, getBooks = _this$props.getBooks, Books = _this$props.Books;\n                _context.next = 3;\n                return getBooks();\n\n              case 3:\n                this.setState({\n                  books: Books\n                });\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function getStorage() {\n        return _getStorage.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          books = _this$state.books,\n          search = _this$state.search;\n      var resOfSearch = search.length == 0 ? books : books.filter(function (book) {\n        return book.title.toLowerCase().indexOf(search.toLowerCase()) !== -1;\n      });\n      return React.createElement(\"div\", {\n        className: \"book-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, books && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Search Books\"), React.createElement(\"input\", {\n        type: \"text\",\n        maxLength: \"10\",\n        name: \"search\",\n        onChange: this.changeState,\n        value: search,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      })), resOfSearch.map(function (book) {\n        return React.createElement(SingleBook, Object.assign({\n          book: book\n        }, {\n          key: book.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }));\n      })));\n    }\n  }]);\n\n  return BookStorePage;\n}(React.Component);","map":{"version":3,"sources":["/home/intern/Desktop/workspace/library-front/src/components/bookActions/book_store.js"],"names":["React","BContext","BookStorage","props","getBooks","Books","Component","SingleBook","book","id","title","body","author","name","surname","BookStorePage","changeState","e","target","value","setState","state","search","books","getStorage","bind","resOfSearch","length","filter","toLowerCase","indexOf","map"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { BContext } from '../../contexts/context_book';\n\n\nexport default class BookStorage extends React.Component {\n  constructor(props) {\n    super();\n  }\n\n  render() {\n    return (\n      <BContext.Consumer>\n        {\n          ({ getBooks, Books }) =>\n            <BContext.Consumer\n              {...this.props}\n              getBooks={getBooks}\n              Books={Books}\n            />}\n      </BContext.Consumer >\n    )\n  }\n};\n\nclass SingleBook extends React.Component {\n\n  render() {\n    const { book: { id, title, body, author } } = this.props;\n    const { name, surname } = author;\n\n    return (\n      <div>\n        {\n          id &&\n          <div className=\"book-item\">\n            <h2>Book: {title} </h2>\n            <div>\n              <label>Author: {name} {surname}</label>\n              <label>Description: {body}</label>\n            </div>\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\n\nclass BookStorePage extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      search: '',\n      books: null\n     \n    }\n\n    this.getStorage = this.getStorage.bind(this);\n    this.changeState = this.changeState.bind(this);\n  }\n\n  componentDidMount() {\n    this.getStorage();\n  }\n\n  async getStorage() {\n    const { getBooks, Books } = this.props;\n    await getBooks();\n    this.setState({ books: Books });\n  }\n\n  changeState = e => {\n    const { value, name } = e.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  render() {\n    const { books, search } = this.state;\n\n    const resOfSearch = search.length == 0 ?\n      books\n      :\n      books.filter(\n        (book) => {\n          return book.title.toLowerCase().indexOf(search.toLowerCase()) !== -1;\n        }\n      );\n\n    return (\n      <div className=\"book-list\">\n        {\n          books &&\n          <div>\n            <div>\n              <span>Search Books</span>\n              <input type=\"text\" maxLength='10' name='search' onChange={this.changeState} value={search} />\n            </div>\n            {\n              resOfSearch.map(book => <SingleBook {...{ book }} key={book.id} />)\n            }\n          </div>\n        }\n      </div>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}