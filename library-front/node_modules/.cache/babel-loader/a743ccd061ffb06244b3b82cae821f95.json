{"ast":null,"code":"import _regeneratorRuntime from \"/home/intern/Desktop/workspace/library-front/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/intern/Desktop/workspace/library-front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/home/intern/Desktop/workspace/library-front/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/intern/Desktop/workspace/library-front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/intern/Desktop/workspace/library-front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/intern/Desktop/workspace/library-front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/intern/Desktop/workspace/library-front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/intern/Desktop/workspace/library-front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/intern/Desktop/workspace/library-front/src/components/bookActions/add_book.js\";\nimport React from 'react';\nimport './book_style.css';\nimport { BContext } from '../../contexts/book_context';\n\nvar AddBook =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AddBook, _React$Component);\n\n  function AddBook(props) {\n    _classCallCheck(this, AddBook);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(AddBook).call(this));\n  }\n\n  _createClass(AddBook, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      return React.createElement(BContext.Consumer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 12\n        },\n        __self: this\n      }, function (_ref) {\n        var book = _ref.book,\n            addBook = _ref.addBook;\n        return React.createElement(Book, Object.assign({}, _this.props, {\n          book: book,\n          addBook: addBook,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 15\n          },\n          __self: this\n        }));\n      });\n    }\n  }]);\n\n  return AddBook;\n}(React.Component);\n\nexport { AddBook as default };\n;\n\nvar Book =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(Book, _React$Component2);\n\n  function Book() {\n    var _this2;\n\n    _classCallCheck(this, Book);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(Book).call(this));\n\n    _this2.changeState = function (e) {\n      var _e$target = e.target,\n          value = _e$target.value,\n          name = _e$target.name;\n\n      _this2.setState(_defineProperty({}, name, value));\n    };\n\n    _this2.submit =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(e) {\n        var addBook, result;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n                addBook = _this2.props.addBook;\n                _context.next = 4;\n                return addBook(_this2.state);\n\n              case 4:\n                result = _context.sent;\n\n                if (!result) {\n                  _this2.setState({\n                    isFailed: true\n                  });\n                }\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    _this2.state = {\n      title: '',\n      body: '',\n      attemptFailed: false\n    };\n    return _this2;\n  }\n\n  _createClass(Book, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var book = this.props.book;\n\n      if (book) {\n        var id = book.id,\n            title = book.title,\n            body = book.body;\n        this.setState({\n          id: id,\n          title: title,\n          body: body\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var book = this.props.book;\n      var _this$state = this.state,\n          title = _this$state.title,\n          year = _this$state.year,\n          description = _this$state.description,\n          genre = _this$state.genre;\n      var isChanged = book ? true : false;\n      return React.createElement(\"form\", {\n        onSubmit: function onSubmit(e) {\n          return _this3.submit(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"book\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"book-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Title\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"title\",\n        value: title,\n        onChange: this.changeState,\n        disabled: isEditMode,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Year\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"year\",\n        value: year,\n        onChange: this.changeState,\n        disabled: isEditMode,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"Genre\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"genre\",\n        value: genre,\n        onChange: this.changeState,\n        disabled: isEditMode,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Rating \", rating), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"rating\",\n        onChange: this.changeState,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"desc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Description\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }), React.createElement(\"textarea\", {\n        className: \"desc\",\n        type: \"text\",\n        name: \"description\",\n        value: description,\n        onChange: this.changeState,\n        disabled: isEditMode,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Create\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Book;\n}(React.Component);\n\n;","map":{"version":3,"sources":["/home/intern/Desktop/workspace/library-front/src/components/bookActions/add_book.js"],"names":["React","BContext","AddBook","props","book","addBook","Component","Book","changeState","e","target","value","name","setState","submit","preventDefault","state","result","isFailed","title","body","attemptFailed","id","year","description","genre","isChanged","isEditMode","rating"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,kBAAP;AACA,SAASC,QAAT,QAAyB,6BAAzB;;IAEqBC,O;;;;;AACnB,mBAAYC,KAAZ,EAAmB;AAAA;;AAAA;AAElB;;;;6BAEQ;AAAA;;AACP,aACE,oBAAC,QAAD,CAAU,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI;AAAA,YAAGC,IAAH,QAAGA,IAAH;AAAA,YAASC,OAAT,QAASA,OAAT;AAAA,eACE,oBAAC,IAAD,oBACM,KAAI,CAACF,KADX;AAEE,UAAA,IAAI,EAAEC,IAFR;AAGE,UAAA,OAAO,EAAEC,OAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF;AAAA,OAFJ,CADF;AAWD;;;;EAjBkCL,KAAK,CAACM,S;;SAAtBJ,O;AAkBpB;;IAEKK,I;;;;;AACJ,kBAAc;AAAA;;AAAA;;AACZ;;AADY,WAwBdC,WAxBc,GAwBA,UAAAC,CAAC,EAAI;AAAA,sBACOA,CAAC,CAACC,MADT;AAAA,UACTC,KADS,aACTA,KADS;AAAA,UACFC,IADE,aACFA,IADE;;AAEjB,aAAKC,QAAL,qBACGD,IADH,EACUD,KADV;AAGD,KA7Ba;;AAAA,WA+BdG,MA/Bc;AAAA;AAAA;AAAA;AAAA;AAAA,+BA+BL,iBAAOL,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACPA,gBAAAA,CAAC,CAACM,cAAF;AACQV,gBAAAA,OAFD,GAEa,OAAKF,KAFlB,CAECE,OAFD;AAAA;AAAA,uBAGcA,OAAO,CAAC,OAAKW,KAAN,CAHrB;;AAAA;AAGDC,gBAAAA,MAHC;;AAKP,oBAAI,CAACA,MAAL,EAAa;AACX,yBAAKJ,QAAL,CAAc;AAAEK,oBAAAA,QAAQ,EAAE;AAAZ,mBAAd;AACD;;AAPM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OA/BK;;AAAA;AAAA;AAAA;AAAA;;AAGZ,WAAKF,KAAL,GAAa;AACXG,MAAAA,KAAK,EAAE,EADI;AAEXC,MAAAA,IAAI,EAAE,EAFK;AAGXC,MAAAA,aAAa,EAAE;AAHJ,KAAb;AAHY;AAQb;;;;yCAEoB;AAAA,UACXjB,IADW,GACF,KAAKD,KADH,CACXC,IADW;;AAGnB,UAAIA,IAAJ,EAAU;AAAA,YACAkB,EADA,GACoBlB,IADpB,CACAkB,EADA;AAAA,YACIH,KADJ,GACoBf,IADpB,CACIe,KADJ;AAAA,YACWC,IADX,GACoBhB,IADpB,CACWgB,IADX;AAGR,aAAKP,QAAL,CAAc;AACZS,UAAAA,EAAE,EAAEA,EADQ;AAEZH,UAAAA,KAAK,EAAEA,KAFK;AAGZC,UAAAA,IAAI,EAAEA;AAHM,SAAd;AAKD;AACF;;;6BAmBQ;AAAA;;AAAA,UACChB,IADD,GACU,KAAKD,KADf,CACCC,IADD;AAAA,wBAEqC,KAAKY,KAF1C;AAAA,UAECG,KAFD,eAECA,KAFD;AAAA,UAEQI,IAFR,eAEQA,IAFR;AAAA,UAEcC,WAFd,eAEcA,WAFd;AAAA,UAE2BC,KAF3B,eAE2BA,KAF3B;AAIP,UAAMC,SAAS,GAAMtB,IAAI,GAAG,IAAH,GAAU,KAAnC;AAEA,aACE;AAAM,QAAA,QAAQ,EAAE,kBAACK,CAAD;AAAA,iBAAO,MAAI,CAACK,MAAL,CAAYL,CAAZ,CAAP;AAAA,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EACsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADtB,EAEE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,OAAxB;AAAgC,QAAA,KAAK,EAAEU,KAAvC;AAA8C,QAAA,QAAQ,EAAE,KAAKX,WAA7D;AAA0E,QAAA,QAAQ,EAAEmB,UAApF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EACqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADrB,EAEE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,MAAxB;AAA+B,QAAA,KAAK,EAAEJ,IAAtC;AAA4C,QAAA,QAAQ,EAAE,KAAKf,WAA3D;AAAwE,QAAA,QAAQ,EAAEmB,UAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CALF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EACsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADtB,EAEE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,OAAxB;AAAgC,QAAA,KAAK,EAAEF,KAAvC;AAA8C,QAAA,QAAQ,EAAE,KAAKjB,WAA7D;AAA0E,QAAA,QAAQ,EAAEmB,UAApF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAEoG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFpG,CATF,EAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAeC,MAAf,CADF,EACgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADhC,EAEE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,QAAxB;AAAiC,QAAA,QAAQ,EAAE,KAAKpB,WAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAEiE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFjE,CAbF,CADF,EAmBE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,EAC4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAD5B,EAEE;AAAU,QAAA,SAAS,EAAC,MAApB;AAA2B,QAAA,IAAI,EAAC,MAAhC;AAAuC,QAAA,IAAI,EAAC,aAA5C;AAA0D,QAAA,KAAK,EAAEgB,WAAjE;AAA8E,QAAA,QAAQ,EAAE,KAAKhB,WAA7F;AAA0G,QAAA,QAAQ,EAAEmB,UAApH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAEoI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFpI,CAnBF,EAwBE;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,KAAK,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAxBF,CADF,CADF;AA8BD;;;;EA9EgB3B,KAAK,CAACM,S;;AA+ExB","sourcesContent":["import React from 'react';\r\nimport './book_style.css';\r\nimport { BContext } from '../../contexts/book_context';\r\n\r\nexport default class AddBook extends React.Component {\r\n  constructor(props) {\r\n    super();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <BContext.Consumer>\r\n        {\r\n          ({ book, addBook }) =>\r\n            <Book\r\n              {...this.props}\r\n              book={book}\r\n              addBook={addBook}\r\n            />}\r\n      </BContext.Consumer >\r\n    )\r\n  }\r\n};\r\n\r\nclass Book extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      title: '',\r\n      body: '',\r\n      attemptFailed: false\r\n    };\r\n  }\r\n\r\n  componentWillMount() {\r\n    const { book } = this.props;\r\n\r\n    if (book) {\r\n      const { id, title, body } = book;\r\n\r\n      this.setState({\r\n        id: id,\r\n        title: title,\r\n        body: body,\r\n      });\r\n    }\r\n  }\r\n\r\n  changeState = e => {\r\n    const { value, name } = e.target;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  }\r\n\r\n  submit = async (e) => {\r\n    e.preventDefault();\r\n    const { addBook } = this.props;\r\n    const result = await addBook(this.state);\r\n\r\n    if (!result) {\r\n      this.setState({ isFailed: true });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { book } = this.props;\r\n    const { title, year, description, genre } = this.state;\r\n   \r\n    const isChanged    = book ? true : false;\r\n\r\n    return (\r\n      <form onSubmit={(e) => this.submit(e)}>\r\n        <div className=\"book\">\r\n          <div className=\"book-label\">\r\n            <div>\r\n              <label>Title</label><br />\r\n              <input type=\"text\" name=\"title\" value={title} onChange={this.changeState} disabled={isEditMode} />\r\n            </div>\r\n            <div>\r\n              <label>Year</label><br />\r\n              <input type=\"text\" name=\"year\" value={year} onChange={this.changeState} disabled={isEditMode} />\r\n            </div>\r\n            <div>\r\n              <label>Genre</label><br />\r\n              <input type=\"text\" name=\"genre\" value={genre} onChange={this.changeState} disabled={isEditMode} /><br />\r\n            </div>\r\n            <div>\r\n              <label>Rating {rating}</label><br />\r\n              <input type=\"text\" name=\"rating\" onChange={this.changeState} /><br />\r\n            </div>\r\n          </div>\r\n          <div className=\"desc\">\r\n            <label>Description</label><br />\r\n            <textarea className=\"desc\" type=\"text\" name=\"description\" value={description} onChange={this.changeState} disabled={isEditMode} /><br />\r\n          </div>\r\n          {}\r\n          <input type=\"submit\" value=\"Create\" />\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n};"]},"metadata":{},"sourceType":"module"}